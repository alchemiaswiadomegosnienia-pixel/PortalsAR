<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=yes">
    <title>ğŸŒ€ AR Portale</title>

    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- EKRAN STARTOWY -->
    <div id="loading-screen">
        <div class="loader-content">
            <div class="spinner"></div>
            <h1>ğŸŒ€ AR Portale</h1>
            <p id="loading-status">PrzygotowujÄ™...</p>

            <div id="mode-select" style="display:none;">
                <p style="margin-bottom:12px; color:#aaa;">Wybierz tryb:</p>

                <button id="btn-demo" class="btn-primary" style="margin-bottom:10px;">
                    ğŸ® DEMO â€” portale koÅ‚o mnie
                </button>

                <button id="btn-live" class="btn-primary" style="background: linear-gradient(135deg, #7b2fff, #ff2d55);">
                    ğŸŒ LIVE â€” prawdziwe lokalizacje
                </button>

                <p style="margin-top:16px; font-size:0.75rem; color:#666;">
                    Demo postawi portale 10-30m od Ciebie.<br>
                    Live uÅ¼ywa lokalizacji z panelu admina.
                </p>
            </div>
        </div>
    </div>

    <!-- HUD -->
    <div id="hud" style="display:none;">
        <div class="hud-top">
            <div class="hud-status">
                <span id="gps-status">ğŸ“¡ GPS...</span>
                <span id="portal-count">ğŸŒ€ 0</span>
                <span id="time-display">ğŸ• --:--</span>
                <span id="mode-badge">ğŸ® DEMO</span>
            </div>
        </div>

        <!-- Kompas do najbliÅ¼szego portalu -->
        <div id="portal-finder" style="display:none;">
            <div id="finder-arrow">â¤</div>
            <div id="finder-info">
                <span id="finder-name">---</span><br>
                <span id="finder-distance">---</span>
            </div>
        </div>

        <div class="hud-bottom">
            <button id="btn-place-here" class="hud-btn hud-btn-accent">
                ğŸ“Œ Postaw tu
            </button>
            <button id="btn-refresh" class="hud-btn">
                ğŸ”ƒ
            </button>
            <button id="btn-admin" class="hud-btn" onclick="window.open('admin.html','_blank')">
                âš™ï¸
            </button>
            <button id="btn-debug" class="hud-btn">
                ğŸ›
            </button>
        </div>

        <div id="debug-panel" style="display:none;">
            <pre id="debug-info"></pre>
            <button id="btn-close-debug" class="btn-small">âœ•</button>
        </div>
    </div>

    <!-- SCENA AR -->
    <a-scene
        id="ar-scene"
        vr-mode-ui="enabled: false"
        arjs="sourceType: webcam;
              videoTexture: true;
              debugUIEnabled: false;"
        renderer="logarithmicDepthBuffer: true;
                  precision: medium;
                  antialias: true;"
        loading-screen="enabled: false"
        style="display:none;"
    >
        <a-camera
            id="ar-camera"
            gps-camera="simulateLatitude: 0; simulateLongitude: 0;"
            rotation-reader
        ></a-camera>
    </a-scene>

    <script src="js/portals.js"></script>
    <script src="js/engine.js"></script>
</body>
</html>
